---
const base = import.meta.env.BASE_URL;
const primaryItems = [
  { href: base, label: 'Home' },
  { href: base + 'roath/', label: 'Roath' },
  { href: base + 'canton/', label: 'Canton' },
  { href: base + 'royal/', label: 'Royal Arcade' },
];
const actionItems = [
  { href: base + 'history/', label: 'History' },
  { href: base + 'posts/', label: 'News' },
  { href: base + 'contact/', label: 'Contact' },
];
const path = Astro.url.pathname;
const isActive = (href) => path === new URL(href, Astro.url).pathname;
---
<header class="sticky top-0 z-50 border-b border-moss/30 bg-moss text-cream">
  <div class="container-bf py-[0.825rem]">
    <div class="flex items-center justify-between gap-4">
      <a class="flex items-baseline gap-2" href={base} aria-label="Beanfreaks home">
        <span class="logo-wordmark text-cream text-[1.8rem] sm:text-[2.25rem]">Beanfreaks</span>
        <span class="logo-wordmark text-cream/80 text-[0.6rem] sm:text-xs uppercase tracking-[0.2em]">est. 1978</span>
      </a>

      <nav class="hidden items-center gap-3 md:flex">
        {primaryItems.map((it, idx) => (
          <>
            {idx === 1 && (
              <span class="mx-1 hidden text-cream/70 md:inline-flex" aria-hidden="true">|</span>
            )}
            <a
              href={it.href}
              class:list={[
                'btn-accent'
              ]}
            >
              {it.label}
            </a>
            {idx === primaryItems.length - 1 && (
              <span class="mx-1 hidden text-cream/70 md:inline-flex" aria-hidden="true">|</span>
            )}
          </>
        ))}
      </nav>

      <div class="flex items-center gap-2">
        {actionItems.map((it, idx) => (
          <>
            {idx === 0 && (
              <span class="hidden text-cream/70 md:inline-flex" aria-hidden="true">|</span>
            )}
            <a
              href={it.href}
              class:list={[
                'btn-accent',
                idx < 2 && 'hidden sm:inline-flex'
              ]}
            >
              {it.label}
            </a>
            {idx === actionItems.length - 1 && (
              <span class="hidden text-cream/70 md:inline-flex" aria-hidden="true">|</span>
            )}
          </>
        ))}
      </div>
    </div>

    <nav class="mt-3 flex flex-wrap gap-2 md:hidden">
      {[...primaryItems, ...actionItems].map((it, idx) => (
        <>
          {idx === 1 && <span class="text-cream/70" aria-hidden="true">|</span>}
          {idx === primaryItems.length && <span class="text-cream/70" aria-hidden="true">|</span>}
          <a
            href={it.href}
            class:list={[
              'btn-accent'
            ]}
          >
            {it.label}
          </a>
          {idx === primaryItems.length + actionItems.length - 1 && (
            <span class="text-cream/70" aria-hidden="true">|</span>
          )}
        </>
      ))}
    </nav>
  </div>
</header>
