---
const base = import.meta.env.BASE_URL;
const items = [
  { href: base, label: 'Home' },
  { href: base + 'roath/', label: 'Roath' },
  { href: base + 'canton/', label: 'Canton' },
  { href: base + 'royal/', label: 'Royal' },
  { href: base + 'posts/', label: 'Posts' },
  { href: base + 'contact/', label: 'Contact' }
];
const path = Astro.url.pathname;
const isActive = (href) => path === new URL(href, Astro.url).pathname;
---
<header class="sticky top-0 z-50 border-b border-ink/10 bg-cream/90 backdrop-blur">
  <div class="container-bf py-3">
    <div class="flex items-center justify-between gap-4">
      <a class="flex items-center gap-3" href={base} aria-label="Beanfreaks home">
        <img src={base + 'img/logo.svg'} width="180" height="44" class="h-9 w-auto" alt="Beanfreaks" />
      </a>

      <nav class="hidden items-center gap-5 md:flex">
        {items.map((it) => (
          <a
            href={it.href}
            class:list={[
              'text-sm font-semibold text-ink/80 hover:text-ink',
              isActive(it.href) && 'underline decoration-turmeric decoration-2 underline-offset-8 text-ink'
            ]}
          >
            {it.label}
          </a>
        ))}
      </nav>

      <div class="flex items-center gap-2">
        <a class="btn-ghost hidden sm:inline-flex" href={base + 'posts/'}>This week</a>
        <a class="btn-accent" href={base + 'contact/'}>Ask in-store</a>
      </div>
    </div>

    <nav class="mt-3 flex flex-wrap gap-2 md:hidden">
      {items.map((it) => (
        <a
          href={it.href}
          class:list={[
            'pill-bf bg-ink/5 text-ink',
            isActive(it.href) && 'bg-turmeric/25'
          ]}
        >
          {it.label}
        </a>
      ))}
    </nav>
  </div>
</header>
