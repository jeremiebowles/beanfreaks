---
const base = import.meta.env.BASE_URL;
const items = [
  { href: base, label: 'Home' },
  { href: base + 'roath/', label: 'Roath', kind: 'store' },
  { href: base + 'canton/', label: 'Canton', kind: 'store' },
  { href: base + 'royal/', label: 'Royal Arcade', kind: 'store' },
];
const path = Astro.url.pathname;
const isActive = (href) => path === new URL(href, Astro.url).pathname;
---
<header class="sticky top-0 z-50 border-b border-moss/30 bg-moss text-cream">
  <div class="container-bf py-3">
    <div class="flex items-center justify-between gap-4">
      <a class="flex items-baseline gap-2" href={base} aria-label="Beanfreaks home">
        <span class="logo-wordmark text-cream text-2xl sm:text-3xl">Beanfreaks</span>
        <span class="logo-wordmark text-cream/80 text-[0.6rem] sm:text-xs uppercase tracking-[0.2em]">est. 1978</span>
      </a>

      <nav class="hidden items-center gap-3 md:flex">
        {items.map((it) => (
          <a
            href={it.href}
            class:list={[
              it.kind === 'store'
                ? 'pill-bf bg-turmeric/90 text-ink hover:bg-turmeric'
                : 'text-sm font-semibold text-cream/80 hover:text-cream',
              isActive(it.href) && (it.kind === 'store'
                ? 'bg-turmeric text-ink'
                : 'underline decoration-turmeric decoration-2 underline-offset-8 text-cream')
            ]}
          >
            {it.label}
          </a>
        ))}
      </nav>

      <div class="flex items-center gap-2">
        <a class="btn-ghost hidden sm:inline-flex ring-cream/30 text-cream hover:bg-cream/10" href={base + 'posts/'}>News</a>
        <a class="btn-accent" href={base + 'contact/'}>Contact</a>
      </div>
    </div>

    <nav class="mt-3 flex flex-wrap gap-2 md:hidden">
      {items.map((it) => (
        <a
          href={it.href}
          class:list={[
            'pill-bf bg-cream/10 text-cream',
            isActive(it.href) && 'bg-turmeric/30 text-ink'
          ]}
        >
          {it.label}
        </a>
      ))}
    </nav>
  </div>
</header>
