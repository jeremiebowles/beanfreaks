---
const base = import.meta.env.BASE_URL;
const items = [
  { href: base, label: 'Home' },
  { href: base + 'roath/', label: 'Roath' },
  { href: base + 'canton/', label: 'Canton' },
  { href: base + 'royal/', label: 'Royal Arcade' },
  { href: base + 'posts/', label: 'Posts' },
];
const path = Astro.url.pathname;
const isActive = (href) => path === new URL(href, Astro.url).pathname;
---
<header class="sticky top-0 z-50 border-b border-moss/30 bg-moss text-cream">
  <div class="container-bf py-3">
    <div class="flex items-center justify-between gap-4">
      <a class="flex items-center gap-3" href={base} aria-label="Beanfreaks home">
        <img src={base + 'img/logo.png'} width="180" height="44" class="h-9 w-auto" alt="Beanfreaks" />
      </a>

      <nav class="hidden items-center gap-5 md:flex">
        {items.map((it) => (
          <a
            href={it.href}
            class:list={[
              'text-sm font-semibold text-cream/80 hover:text-cream',
              isActive(it.href) && 'underline decoration-turmeric decoration-2 underline-offset-8 text-cream'
            ]}
          >
            {it.label}
          </a>
        ))}
      </nav>

      <div class="flex items-center gap-2">
        <a class="btn-ghost hidden sm:inline-flex ring-cream/30 text-cream hover:bg-cream/10" href={base + 'posts/'}>This week</a>
        <a class="btn-accent" href={base + 'contact/'}>Contact</a>
      </div>
    </div>

    <nav class="mt-3 flex flex-wrap gap-2 md:hidden">
      {items.map((it) => (
        <a
          href={it.href}
          class:list={[
            'pill-bf bg-cream/10 text-cream',
            isActive(it.href) && 'bg-turmeric/30 text-ink'
          ]}
        >
          {it.label}
        </a>
      ))}
    </nav>
  </div>
</header>
