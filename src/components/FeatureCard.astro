---
const { title, desc, pill, img } = Astro.props;
// img: { src: string, alt: string, webp?: string }
---

<div class="card-bf overflow-hidden">
  {img && (
    img.webp ? (
      <picture>
        <source srcset={img.webp} type="image/webp" />
        <img
          src={img.src}
          alt={img.alt}
          class="h-28 w-full object-cover sm:h-32"
          loading="lazy"
          decoding="async"
        />
      </picture>
    ) : (
      <img
        src={img.src}
        alt={img.alt}
        class="h-28 w-full object-cover sm:h-32"
        loading="lazy"
        decoding="async"
      />
    )
  )}
  <div class="p-5 sm:p-6">
    <div class="flex items-start justify-between gap-4">
      <h3 class="text-lg font-extrabold leading-snug">{title}</h3>
      {pill && <span class={pill.class}>{pill.label}</span>}
    </div>
    <p class="mt-2 text-sm text-muted">{desc}</p>
  </div>
</div>
