---
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const stores = await getCollection("stores");
  return stores.map((s) => ({ params: { slug: s.slug } }));
}

const stores = await getCollection("stores");
const store = stores.find((s) => s.slug === Astro.params.slug);
if (!store) throw new Error(`Store not found: ${Astro.params.slug}`);

const { Content } = await store.render();
---

<Content />

