---
import Base from "../../layouts/base.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const stores = await getCollection("stores");
  return stores.map((store) => ({
    params: { slug: store.slug },
    props: { store },
  }));
}

const { store } = Astro.props;
const { Content } = await store.render();
---
<Base title={`${store.data?.title ?? store.slug} — Stores — Beanfreaks`}>
  <div class="bf-kicker">Store</div>
  <h1 class="bf-h1 mt-3">{store.data?.title ?? store.slug}</h1>
  <article class="bf-prose mt-6">
    <Content />
  </article>
</Base>
