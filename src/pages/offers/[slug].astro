---
import Base from "../../layouts/base.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const offers = await getCollection("offers");
  return offers.map((offer) => ({
    params: { slug: offer.slug },
    props: { offer },
  }));
}

const { offer } = Astro.props;
const { Content } = await offer.render();
---
<Base title={`${offer.data?.title ?? offer.slug} — Offers — Beanfreaks`}>
  <div class="bf-kicker">Offer</div>
  <h1 class="bf-h1 mt-3">{offer.data?.title ?? offer.slug}</h1>
  <article class="bf-prose mt-6">
    <Content />
  </article>
</Base>
