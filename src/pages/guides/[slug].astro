---
import Base from "../../layouts/base.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const guides = await getCollection("guides");
  return guides.map((guide) => ({
    params: { slug: guide.slug },
    props: { guide },
  }));
}

const { guide } = Astro.props;
const { Content } = await guide.render();
---
<Base title={`${guide.data?.title ?? guide.slug} â€” Guides â€” Beanfreaks`}>
  <div class="bf-kicker">Guide</div>
  <h1 class="bf-h1 mt-3">{guide.data?.title ?? guide.slug}</h1>
  <article class="bf-prose mt-6">
    <Content />
  </article>
</Base>
