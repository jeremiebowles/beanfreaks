---
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const guides = await getCollection("guides");
  return guides.map((g) => ({
    params: { slug: g.slug },
  }));
}

const { slug } = Astro.params;
const guide = (await getCollection("guides")).find((g) => g.slug === slug);
if (!guide) throw new Error(`Guide not found: ${slug}`);

const { Content } = await guide.render();
---

<article>
  <Content />
</article>

